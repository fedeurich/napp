<%- include('../partials/head') %>

<link rel="stylesheet" href="/css/productDetail.css" />
<title>Detalles del Evento</title>
</head>

<body>

  <%- include('../partials/header') %>

  <h2 class="containerTitle">Detalles del Evento</h2>

  <main class="containerMainProductDetail">
    <div class="containerCardProducto">
      <section class="containerSectionDetalle">
        
        <h3>ID del Evento: <%= event.IDEvent %></h3>
        <h3>Direcci√≥n: <%= event.AddressEvent %></h3>
        <h3>Fecha: <%= event.DateEvent.toLocaleDateString() %></h3> 
        <h3>Tipo: <%= event.CateringType.NameCateringType %></h3>

        <!-- Mostrar productos -->
        <% if (products && products.length > 0) { %>
          <h3>Productos:</h3>
          <ul>
            <% products.forEach(product => { %>
              <li>
                <%= product.NameProduct %>
                <!-- Enlace al detalle del producto -->
                <button onclick="window.location.href='/product/<%= product.IDProduct %>'">Ver Detalle</button>
              </li>
            <% }); %>
          </ul>
        <% } else { %>
          <p>No hay productos disponibles para este evento.</p>
        <% } %>

        <h3>
          <%= event.Employee.FirstName %> <%= event.Employee.LastName %>
          <!-- Enlace al detalle del empleado -->
          <button onclick="window.location.href='/employee/<%= event.Employee.IDEmployee %>'">Ver Detalle</button>
        </h3>

        <h3>
          <%= event.Client.FirstName %> <%= event.Client.LastName %>
          <!-- Enlace al detalle del cliente -->
          <button onclick="window.location.href='/client/<%= event.Client.IDClient %>'">Ver Detalle</button>
        </h3>

        <form action="/events/<%= event.IDEvent %>?_method=DELETE" method="POST">
          <input type="hidden" name="_method" value="DELETE">
          <button type="submit">Eliminar</button>
        </form>

      </section>
    </div>
  </main>

  <%- include('../partials/footer') %>
</body>

</html>
